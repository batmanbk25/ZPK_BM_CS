FUNCTION ZFM_BM_CS_SALES_ORG_SDD176.
*"----------------------------------------------------------------------
*"*"Local Interface:
*"  IMPORTING
*"     REFERENCE(I_DATA) TYPE  ZST_BM_SALES_SD176
*"----------------------------------------------------------------------
DATA: LSS_T503Z           TYPE T503Z,
        LS_T503 TYPE T503.

  GS_DATASD176 = I_DATA.
  SELECT SINGLE
     T503Z~PERSG,
     T503Z~PERSK,
     T503Z~MOLGA,
     T503~TYPSZ,
    T503~ABART,
    T503~ANTYP,
    T503~TRFKZ,
    T503~ZEITY,
    T503~AKSTA,
    T503~ANSTA,
    T503~AUSTA,
    T503~KONTY,
    T503~BURKZ
     FROM T503Z
     INNER JOIN T503
     ON T503~PERSG = T503Z~PERSG
    AND T503~PERSK = T503Z~PERSK
        INTO CORRESPONDING FIELDS OF  @GT_SD176
       WHERE T503~PERSG = @GS_DATASD176-PERSG
     AND T503~PERSK = @GS_DATASD176-PERSK
     AND T503~MOLGA = @GS_DATASD176-MOLGA
    .

  IF SY-SUBRC IS INITIAL.
 GS_SD176-PERSG = GS_DATASD176-PERSG.
 GS_SD176-PERSK = GS_DATASD176-PERSK.
 GS_SD176-MOLGA = GS_DATASD176-MOLGA.
 GS_SD176-ABTYP = GS_DATASD176-ABTYP.
 GS_SD176-TYPSZ = GS_DATASD176-TYPSZ.
 GS_SD176-ABART = GS_DATASD176-ABART.
 GS_SD176-ANTYP = GS_DATASD176-ANTYP.
 GS_SD176-TRFKZ = GS_DATASD176-TRFKZ.
 GS_SD176-ZEITY = GS_DATASD176-ZEITY.
 GS_SD176-AKSTA = GS_DATASD176-AKSTA.
 GS_SD176-ANSTA = GS_DATASD176-ANSTA.
 GS_SD176-AUSTA = GS_DATASD176-AUSTA.
 GS_SD176-KONTY = GS_DATASD176-KONTY.
 GS_SD176-BURKZ = GS_DATASD176-BURKZ.

    MOVE-CORRESPONDING GS_SD176 TO LSS_T503Z.
    MOVE-CORRESPONDING GS_SD176 TO LS_T503.

    UPDATE  T503Z FROM LSS_T503Z.
    UPDATE  T503 FROM LS_T503.
  ELSE.
    GS_SD176-PERSG = GS_DATASD176-PERSG.
 GS_SD176-PERSK = GS_DATASD176-PERSK.
 GS_SD176-MOLGA = GS_DATASD176-MOLGA.
 GS_SD176-ABTYP = GS_DATASD176-ABTYP.
 GS_SD176-TYPSZ = GS_DATASD176-TYPSZ.
 GS_SD176-ABART = GS_DATASD176-ABART.
 GS_SD176-ANTYP = GS_DATASD176-ANTYP.
 GS_SD176-TRFKZ = GS_DATASD176-TRFKZ.
 GS_SD176-ZEITY = GS_DATASD176-ZEITY.
 GS_SD176-AKSTA = GS_DATASD176-AKSTA.
 GS_SD176-ANSTA = GS_DATASD176-ANSTA.
 GS_SD176-AUSTA = GS_DATASD176-AUSTA.
 GS_SD176-KONTY = GS_DATASD176-KONTY.
 GS_SD176-BURKZ = GS_DATASD176-BURKZ.

    MOVE-CORRESPONDING GS_SD176 TO LSS_T503Z.
    MOVE-CORRESPONDING GS_SD176 TO LS_T503.

    INSERT  T503Z FROM LSS_T503Z.
    INSERT  T503 FROM LS_T503.
  ENDIF.
ENDFUNCTION.
